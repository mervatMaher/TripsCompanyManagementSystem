@model List<Company>
<!DOCTYPE html>
<head>

    <link href="/css/landing.css" rel="stylesheet">
    <link href="/css/landingBody.css" rel="stylesheet" />
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
   
    <!-- Link to the external CSS file -->
</head>

<div class="container-landing">
    <div class="landingPage">
      <div class="Langing-overlay">
            <h2> Discover New<span>Distnation</span> </h2>
            <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s </p>

                <div class="search">
                    <input type="text" class="form-control" id="inputSearch" placeholder="Have a question? Ask Now">
                    <button type="submit" id="searchButton" class="btn btn-primary">Search</button>
                </div>
            <div id="searchResults" class="search-results-container" style="
                 background-color: white;
                 max-height: 170px;
                 width: 70%;
                 overflow-y: auto;
                 border: 1px solid #ccc;
                 margin-top: 10px;

                 position: absolute;
                 top: 450px;
                /*  display: none; */
                 flex-direction: column;
"  >
           
                </div>

      </div>
    </div>
</div>

<!-- i will start styling tommorow -->
<div class="container-discover">
    <p class="discover-Serve">What We Serve</p>
    <h2 style="padding-bottom: 10px; font-weight: bold;">Top Values For You!</h2>
    <p style="padding: 20px;" class="lorem-lorem">Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s,</p>

    <div class="value-Container">
        <div>
            <i class="fa-solid fa-plane" 
            style="font-size: 30PX;
            padding: 15px;"></i>
            <h5 style="padding-left: 15px;">Flight Resevations</h5>
            <p style="padding-left: 15px;">Lorem Ipsum is simply dummy text of the printing and typesetting industry.</p>
        </div>
        <div>
            <i class="fa-solid fa-cloud" 
            style="font-size: 30PX;
            padding: 15px;"></i>
            <h5 style="padding-left: 15px;">Accomidation</h5>
            <p style="padding-left: 15px;">Lorem Ipsum is simply dummy text of the printing and typesetting industry.</p>
        </div>
        <div>
            <i class="fa-solid fa-car" 
            style="font-size: 30PX;
            padding: 15px;"></i>
            <h5 style="padding-left: 15px;">Car Hire</h5>
            <p style ="padding-left: 15px;">Lorem Ipsum is simply dummy text of the printing and typesetting industry.</p>
        </div>
    </div>
</div>

<div class="container">
    <div class="d-flex flex-wrap">

        @foreach (var Company in Model)
        {
            var fullStars = (int)Company.AverageRating;
            var halfStar = Company.AverageRating - fullStars >= 0.5 ? 1 : 0;
            var emptyStars = 5 - fullStars - halfStar;

            <div class="card m-2 card-style" style="width: 18rem;">
                <img src="/images/@Company.ImageUrl" class="card-img-top" alt="...">
                <div class="card-body">
                    <h5 class="card-title">@Company.Name</h5>
                    <a href="/Company/CompanyDetail?id=@Company.Id" class="btn btn-primary">Show Details</a>
                    <ul class="list-unstyled d-flex">
                        @for (int i = 0; i < fullStars; i++)
                        {
                            <li><span class="fas fa-star"></span></li>
                        }
                        @if (halfStar == 1)
                        {
                            <li><span class="fas fa-star-half-alt"></span></li>
                        }
                        @for (int i = 0; i < emptyStars; i++)
                        {
                            <li><span class="far fa-star"></span></li>
                        }
                    </ul>
                </div>
            </div>
        }
    </div>
</div>

@* <script>
    jQuery(document).ready(function () {
        $('#inputSearch').keyup(function () {
            var searchTerm = $(this).val();

            if (searchTerm.length > 2) {
                $.ajax({
                    url: '/Home/Search',
                    type: 'POST',
                    data: { search: searchTerm },
                    success: function (data) {
                        $('searchResults').html(data);
                    },
                    error: function (xhr, status, error) {
                        // If there is an error, log it to the console
                        console.error("Error: " + status + " " + error);
                    }
                })
            } else {
                // If the input length is less than 3 characters, clear the search results
                $('#searchResults').html('');
            }

        })
    })

</script> *@


<script>
    jQuery(document).ready(function () {
        $('#searchButton').click(function () {
            var resultItems = $('#inputSearch').val();
            $.ajax({
                url: '/Home/Search',
                type: 'POST',
                data: { search: resultItems },
                success: function (data) {
                    $('#searchResults').html(data);
                },
                error: function (xhr, status, error) {
                    console.error("Error: " + status + " " + error);
                }

            })

        })
    })
</script>


